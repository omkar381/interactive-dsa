<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Data Structures | Classroom Whiteboard</title>
  
  <!-- PWA Meta Tags -->
  <meta name="description" content="Interactive Data Structures Learning - Stack, Queue, Linked List, Memory Management">
  <meta name="theme-color" content="#2d2d2d">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="DSA Visual">
  <meta name="mobile-web-app-capable" content="yes">
  
  <!-- PWA Manifest -->
  <link rel="manifest" href="manifest.json">
  
  <!-- Apple Touch Icons -->
  <link rel="apple-touch-icon" href="icons/icon-152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="icons/icon-192.png">
  
  <!-- Favicon -->
  <link rel="icon" type="image/png" sizes="32x32" href="icons/icon-96.png">
  
  <!-- Handwritten style fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;500;600;700&family=Patrick+Hand&family=Shadows+Into+Light&family=JetBrains+Mono:wght@400&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="app">
    <!-- Sketchy Header -->
    <header class="header">
      <div class="header-left">
        <div class="logo">
          <span class="logo-bracket">{</span>
          <div class="logo-content">
            <span class="logo-text">Data Structures</span>
            <span class="logo-sub">~ classroom notes ~</span>
          </div>
          <span class="logo-bracket">}</span>
        </div>
        <span class="header-divider">|</span>
        <div class="guide-info">
          <span class="guide-label">Guided by</span>
          <span class="guide-name">Dr. Pooja Aspalli Ma'am</span>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Left Panel: Team Members / Topic Selector -->
      <aside class="panel members-panel">
        <div class="panel-title">
          <span class="pencil-icon">‚úèÔ∏è</span>
          <h2>Select Topic</h2>
        </div>
        
        <div class="members-list" id="members-list">
          <button class="member-btn" data-member="nagaraj">
            <div class="member-info">
              <span class="member-name">Nagaraj</span>
              <span class="member-usn">3PD24CS121</span>
            </div>
            <span class="member-topic">Memory Management</span>
          </button>
          <button class="member-btn active" data-member="omkar">
            <div class="member-info">
              <span class="member-name">Omkar</span>
              <span class="member-usn">3PD24CS131</span>
            </div>
            <span class="member-topic">Stack & Queue</span>
          </button>
          <button class="member-btn" data-member="prajwal">
            <div class="member-info">
              <span class="member-name">Prajwal</span>
              <span class="member-usn">3PD24CS140</span>
            </div>
            <span class="member-topic">Linked List</span>
          </button>
        </div>

        <!-- Definition Section -->
        <div class="definition-section">
          <div class="definition-header">
            <span class="definition-icon">üìñ</span>
            <h3>Definition</h3>
          </div>
          <div class="definition-card">
            <h4 id="left-definition-title" class="definition-title">What is a Stack?</h4>
            <p id="left-definition-text" class="definition-text">
              A Stack is a linear data structure that follows the 
              LIFO (Last In, First Out) principle.
            </p>
          </div>
        </div>
      </aside>

      <!-- Center: Whiteboard Canvas -->
      <section class="whiteboard-area">
        <div class="whiteboard-container">
          <div class="whiteboard-frame">
          <div class="whiteboard-header">
            <span class="topic-label" id="topic-label">Stack & Queue</span>
            <span class="chalk-mark">‚óè‚óè‚óè</span>
          </div>
          
          <!-- Main Visualization Canvas -->
          <div class="whiteboard" id="visualization">
            <!-- Dynamic sketch content -->
          </div>

          <!-- Floating Controls Panel -->
          <div class="floating-controls">
            <div class="floating-controls-header">
              <span class="controls-icon">üéõÔ∏è</span>
              <h3>Controls</h3>
            </div>
            <div class="control-content" id="control-content">
              <!-- Dynamic controls -->
            </div>
          </div>

          <!-- Status chalk marks -->
          <div class="status-chalk">
            <span class="status-item">
              <span class="status-label">Size:</span>
              <span class="status-value" id="status-size">0</span>
            </span>
            <span class="status-divider">|</span>
            <span class="status-item">
              <span class="status-label">Capacity:</span>
              <span class="status-value" id="status-capacity">8</span>
            </span>
          </div>
        </div>
      </div>

        <!-- Hidden toast for JS compatibility -->
        <span id="explanation-toast" style="display:none;"></span>
        <span id="toast-text" style="display:none;"></span>
      </section>

      <!-- Right Panel: Process Info -->
      <aside class="panel process-panel">
        <!-- Hidden elements for JS compatibility -->
        <span id="definition-title" style="display:none;"></span>
        <span id="definition-text" style="display:none;"></span>
        <span id="concept-title" style="display:none;"></span>
        <span id="step-counter" style="display:none;"></span>
        <div id="narration-content" style="display:none;"></div>
        <button id="prev-step" style="display:none;"></button>
        <button id="next-step" style="display:none;"></button>

        <!-- Process Header -->
        <div class="process-title">
          <span class="process-icon">üíª</span>
          <h2>Behind the Scenes</h2>
        </div>

        <!-- Algorithm Section -->
        <div class="algo-section">
          <div class="algo-header">
            <span class="algo-tag">ALGORITHM</span>
          </div>
          <pre class="algo-code" id="pseudocode"><code>function push(element):
    if top >= MAX_SIZE - 1:
        return "OVERFLOW"
    top = top + 1
    stack[top] = element</code></pre>
        </div>

        <!-- Live Stats -->
        <div class="stats-section">
          <div class="stats-header">
            <span class="stats-tag">LIVE STATUS</span>
          </div>
          <div class="stats-grid">
            <div class="stat-item">
              <span class="stat-icon">üìç</span>
              <div class="stat-info">
                <span class="stat-label">Top Index</span>
                <span class="stat-value" id="mem-top">-1</span>
              </div>
            </div>
            <div class="stat-item">
              <span class="stat-icon">üì¶</span>
              <div class="stat-info">
                <span class="stat-label">Elements</span>
                <span class="stat-value" id="mem-size">0</span>
              </div>
            </div>
            <div class="stat-item">
              <span class="stat-icon">‚ö°</span>
              <div class="stat-info">
                <span class="stat-label">Complexity</span>
                <span class="stat-value">O(1)</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Key Concepts -->
        <div class="concepts-section">
          <div class="concepts-header">
            <span class="concepts-tag">KEY CONCEPTS</span>
          </div>
          <ul class="concepts-list" id="key-points">
            <li><span class="concept-dot"></span>LIFO: Last In, First Out</li>
            <li><span class="concept-dot"></span>All operations at TOP only</li>
            <li><span class="concept-dot"></span>O(1) time complexity</li>
          </ul>
        </div>
      </aside>
    </main>

    <!-- Mobile Navigation (Bottom Tab Bar) -->
    <nav class="mobile-nav" id="mobile-nav">
      <button class="mobile-nav-btn" data-member="nagaraj">
        <span class="nav-icon">üß†</span>
        <span class="nav-label">Nagaraj</span>
        <span class="nav-topic">Memory</span>
      </button>
      <button class="mobile-nav-btn active" data-member="omkar">
        <span class="nav-icon">üìö</span>
        <span class="nav-label">Omkar</span>
        <span class="nav-topic">Stack/Queue</span>
      </button>
      <button class="mobile-nav-btn" data-member="prajwal">
        <span class="nav-icon">üîó</span>
        <span class="nav-label">Prajwal</span>
        <span class="nav-topic">Linked List</span>
      </button>
      <button class="mobile-nav-btn" id="info-btn">
        <span class="nav-icon">üí°</span>
        <span class="nav-label">Info</span>
        <span class="nav-topic">Algorithm</span>
      </button>
    </nav>

    <!-- Mobile Info Sheet -->
    <div class="mobile-overlay" id="mobile-overlay"></div>
    <div class="mobile-sheet" id="mobile-sheet">
      <div class="sheet-handle"></div>
      <h3 class="sheet-title" id="sheet-title">Behind the Scenes</h3>
      <div class="sheet-content">
        <div class="sheet-algo" id="sheet-algo">
          <pre>function push(element):
    if top >= MAX_SIZE - 1:
        return "OVERFLOW"
    top = top + 1
    stack[top] = element</pre>
        </div>
        <div class="sheet-stats">
          <div class="sheet-stat">
            <div class="sheet-stat-icon">üìç</div>
            <div class="sheet-stat-value" id="sheet-top">-1</div>
            <div class="sheet-stat-label">Top Index</div>
          </div>
          <div class="sheet-stat">
            <div class="sheet-stat-icon">üì¶</div>
            <div class="sheet-stat-value" id="sheet-size">0</div>
            <div class="sheet-stat-label">Elements</div>
          </div>
          <div class="sheet-stat">
            <div class="sheet-stat-icon">‚ö°</div>
            <div class="sheet-stat-value">O(1)</div>
            <div class="sheet-stat-label">Complexity</div>
          </div>
        </div>
      </div>
    </div>

    <!-- PWA Install Prompt -->
    <div class="pwa-install-prompt" id="pwa-prompt">
      <div class="pwa-prompt-content">
        <span class="pwa-prompt-icon">üì±</span>
        <div class="pwa-prompt-text">
          <h4>Install DSA Visual</h4>
          <p>Add to home screen for offline access</p>
        </div>
      </div>
      <div class="pwa-prompt-buttons">
        <button class="pwa-btn pwa-btn-install" id="pwa-install">Install</button>
        <button class="pwa-btn pwa-btn-later" id="pwa-later">Later</button>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
  
  <!-- Service Worker Registration -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('./sw.js')
          .then((reg) => console.log('Service Worker registered'))
          .catch((err) => console.log('Service Worker registration failed:', err));
      });
    }
  </script>
</body>
</html>
